/*
 * @author: luofei
 * @time 2014-03-24
 * @email luofehit2010@gmail.com
 * @function 监控窗口的resize事件，进行部分区域的重绘。
 * */
;$(function() {
    // 网站初始化参数
    var headerH = $('#header').height(),
        footerH = $('#footer').height(),
        gap = 5; // 统一的间隔

    /*
     * 浏览器缩放后的处理函数
     * */
    function resize() {
        var bW = $('body').width(),
            bH = $('body').height(),

            navTree = $('#nav-tree'),
            content = $('#content'),

            midH = bH - headerH - footerH - 2 * gap;

        $(window).off('resize', resize);

        // 添加延迟功能，避免浏览器缩放过程中事件的多次触发
        setTimeout(function() {
            $(window).on('resize', resize);
        }, 50);

        // 这里是具体的处理事件
        navTree.height(midH);
        content.height(midH);
    }

    $(window).on('resize', resize);
});
